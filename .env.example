# KFSQUARE Production Environment Variables
# Copy this file to .env and update with your actual values

# Application Configuration
NODE_ENV=production
PORT=3000
DOMAIN=kfsquare.com
BASE_URL=https://kfsquare.com

# Database Configuration (Production)
# Prefer SRV URI or separate secure fields. Do NOT commit real credentials.

# Option A: Single SRV URI (fill placeholders; do not commit real secrets)
# MONGODB_URI=mongodb+srv://<username>:<password>@<cluster-host>/<db-name>?retryWrites=true&w=majority

# Option B: Separate fields (use with Docker/K8s secrets)
# MONGODB_USE_SRV=true
# MONGODB_HOSTS=cluster0.mongodb.net
# MONGODB_DB=kfsquare
# MONGODB_USER=<app_user>
# MONGODB_PASSWORD_FILE=/run/secrets/mongodb_password  # or use MONGODB_PASSWORD via env-injection (not recommended)
# MONGODB_TLS=true
# MONGODB_CA_FILE=/etc/ssl/certs/ca.pem
# MONGODB_OPTIONS=retryWrites=true&w=majority

# Local/dev fallback (avoid in production unless explicitly allowed)
# DATABASE_URL=mongodb://localhost:27017/kfsquare
# ALLOW_LOCAL_DB=false
# DB_NAME=kfsquare

# Security Configuration
JWT_SECRET=your-super-secure-jwt-secret-key-here-min-32-chars
SESSION_SECRET=your-super-secure-session-secret-here-min-32-chars
ENCRYPTION_KEY=your-32-character-encryption-key-here

# SendGrid Email Configuration
SENDGRID_API_KEY=SG.your_sendgrid_api_key_here
FROM_EMAIL=noreply@kfsquare.com
RECIPIENT_EMAIL=customersupport@kfsquare.com
ADMIN_EMAIL=admin@kfsquare.com
SUPPORT_EMAIL=support@kfsquare.com

# Rate Limiting Configuration
GENERAL_RATE_LIMIT=100
GENERAL_RATE_WINDOW=15
EMAIL_RATE_LIMIT_MAX=5
EMAIL_RATE_LIMIT_WINDOW=60

# File Upload Configuration
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain

# External Services
RECAPTCHA_SITE_KEY=your-recaptcha-site-key
RECAPTCHA_SECRET_KEY=your-recaptcha-secret-key

# Analytics & Monitoring
GOOGLE_ANALYTICS_ID=GA_MEASUREMENT_ID
SENTRY_DSN=your-sentry-dsn-url

# SSL & Security
FORCE_HTTPS=true
TRUST_PROXY=true

# Cache Configuration
REDIS_URL=redis://localhost:6379
CACHE_TTL=3600

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=logs/kfsquare.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Feature Flags
ENABLE_ANALYTICS=true
ENABLE_CHAT_WIDGET=true
ENABLE_FILE_UPLOADS=true
ENABLE_RATE_LIMITING=true
SEED_DATABASE=false

# Payment Integration (if needed)
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-key
STRIPE_SECRET_KEY=sk_live_your-stripe-key
EMAIL_RATE_LIMIT=5
EMAIL_RATE_WINDOW=60

# CORS Configuration
ALLOWED_ORIGINS=https://kfsquare.com,https://www.kfsquare.com

# Features Flags
ENABLE_DATABASE=true
ENABLE_EMAIL=true
ENABLE_ANALYTICS=false

# Development Settings
DEBUG_MODE=false
LOG_LEVEL=warn

# SSL/HTTPS Configuration (for production deployment)
# FORCE_HTTPS=true
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# Monitoring & Logging (Optional)
# LOG_LEVEL=info
# SENTRY_DSN=your_sentry_dsn_here

# Security Notes:
# - Keep .env files out of version control (already in .gitignore)
# - Use secret files or secret managers for passwords (e.g., *_PASSWORD_FILE)
# - Never log full connection strings with credentials
